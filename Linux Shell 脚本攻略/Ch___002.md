>1

`cat file1 file2 file3` çš„åŸç†ï¼šä¾æ¬¡è¯»å– file1ï¼Œfile2ï¼Œfile3 å¹¶æ‰“å°åˆ° stdoutï¼Œåé¢çš„å‚æ•°å¯ä»¥æ˜¯ `stdin`ï¼Œæ¯”å¦‚ 

`echo hello | cat - file1` 

æ‰“å°
`hello`
`content`

`cat -s` å¹¶ä¸æ˜¯å»æ‰ç©ºè¡Œï¼Œè€Œæ˜¯æŠŠç©ºè¡Œæ•°é‡å‡ä¸º `1`,æ¯”å¦‚ï¼š
åŸæ–‡ä»¶ä¸ºï¼š

~~~C
âœ  Desktop cat haha
line1


line2
line3

line4


line5
~~~

æ‰§è¡Œ `cat -s ` åå†™é“ `stdout` çš„å†…å®¹æ˜¯

~~~C
âœ  Desktop cat -s haha
line1

line2
line3

line4

line5
~~~

`cat -n` æŠŠå†™åˆ° `stdout` çš„å†…å®¹åŠ ä¸Šè¡Œå·ï¼Œ
`cat -A` æ˜¾ç¤ºæ‰€æœ‰ä¸å¯è§å­—ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼å†™ä¸å‡ºæ¥å¯ä»¥ç”¨è¿™ä¸ªæŒ‡ä»¤çœ‹çœ‹æ–‡ä»¶å†…å®¹
`cat -T` æ˜¾ç¤ºåˆ¶è¡¨ç¬¦

`cat -b` ç­‰åŒäº `cat -n` ä½†æ˜¯å¿½ç•¥ç©ºç™½è¡Œï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š

~~~C
âœ  Desktop cat -n haha
     1	line1
     2	
     3	
     4	line2
     5	line3
     6	
     7	line4
     8	
     9	
    10	line5
~~~

~~~C
âœ  Desktop cat -b haha
     1	line1


     2	line2
     3	line3

     4	line4


     5	line5
~~~

>2

## find çš„ç”¨æ³•

- 1ã€æ ¹æ®æ–‡ä»¶åæˆ–æ­£åˆ™è¡¨è¾¾å¼æœç´¢
- 2ã€å¦å®šå‚æ•°ï¼š**å¦å®šçš„æ˜¯å®ƒåé¢è·Ÿç€çš„ç¬¬ä¸€ä¸ªæ¡ä»¶**
- 3ã€åŸºäºç›®å½•æ·±åº¦çš„æœç´¢ï¼š**-maxdepthï¼Œ-mindepth**
- 4ã€æ ¹æ®æ–‡ä»¶ç±»å‹çš„æœç´¢ï¼š**c b f d s l p**
- 5ã€æ ¹æ®æ–‡ä»¶æ—¶é—´æœç´¢	**å¤©ï¼Œåˆ†é’Ÿï¼Œ+ -**
- 6ã€åŸºäºæ–‡ä»¶å¤§å°çš„æœç´¢  **Mï¼ˆå¤§å†™ï¼‰ kï¼ˆå°å†™ï¼‰Gï¼ˆå¤§å†™ï¼‰cï¼ˆå­—èŠ‚ï¼Œå°å†™ï¼‰**
- 7ã€åˆ é™¤åŒ¹é…æ–‡ä»¶
- 8ã€åˆ©ç”¨ `find` æ‰§è¡Œå‘½ä»¤æˆ–åŠ¨ä½œ	**\; å¯¹æ¯ä¸ªé¡¹éƒ½æ‰§è¡Œä¸€éï¼Œ\+ æŠŠæ‰€æœ‰é¡¹å½“ä½œå‚æ•°åˆ—è¡¨**
- 9ã€è®© `find` è·³è¿‡ç‰¹å®šçš„ç›®å½•æˆ–æ–‡ä»¶ **-prune**
- ä¾‹å­ğŸ‘‡ï¼š
- ï¼ˆ1ï¼‰æ‰¾å‡ºå°ºå¯¸åœ¨ `7M ~ 10M` é—´ï¼Œæˆ–è€…ä»¥åå­—ä»¥ `.log.1` ä¸ºåç¼€çš„æ–‡ä»¶ 
- ` find . \( -size +7M -a -size -10M \) -print -o \( -iname "*.log.1" \) -print `
- é—®é¢˜ğŸ‘‡
- ï¼ˆ1ï¼‰å¦‚ä½•æ­é…å¤šä¸ª `-a` å’Œ `-o` ï¼Ÿ

>3

`cp` å¦‚æœåå­—ç›¸åŒï¼Œå¹¶ä¸”æºå’Œç›®çš„çš„ç±»å‹ç›¸åŒï¼Œä¼šè¦†ç›–ï¼›å¦‚æœç›®çš„æ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™ä¼šå¤åˆ¶åˆ°ç›®å½•æ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚æœæ–‡ä»¶å¤¹ä¸­æœ‰åå­—ç›¸åŒçš„ï¼Œåˆ™åˆä¼šå‘ç”Ÿè¦†ç›–ã€‚

>4

`xargs` çš„ä½œç”¨æ˜¯å°† stdin ä¸­æ•°æ®çš„ `\n` æ›¿æ¢æˆç©ºæ ¼ï¼Œè¿™æ˜¯é»˜è®¤åŠ¨ä½œã€‚ä¹Ÿå¯ä»¥æŒ‡å®šæŠŠå…¶ä»–å­—ç¬¦æ›¿æ¢æˆç©ºæ ¼ï¼Œä½¿ç”¨ `xargs -d 'x'`ï¼Œå°±æ˜¯å°† `x` æ›¿æ¢æˆç©ºæ ¼ã€‚

`xargs -n 3` å¤šè¡Œè¾“å‡ºï¼Œæ¯è¡Œ 3 åˆ—

`xargs -n 3 -d x` å°† `x` æ›¿æ¢æˆç©ºæ ¼ï¼Œå¤šè¡Œè¾“å‡ºï¼Œæ¯è¡Œ 3 åˆ—

>5

### å°† `xargs` åˆ†å‰²çš„å‚æ•°ä¼ é€’ç»™å‘½ä»¤

~~~C
âœ  Desktop cat args | xargs ./echo.sh 
args count is 3
arg1 arg2 arg3#

âœ  Desktop cat args | xargs -n 1 ./echo.sh
args count is 1
arg1#
args count is 1
arg2#
args count is 1
arg3#


âœ  Desktop cat args | xargs -I {} ./echo.sh -p {} -l
args count is 3
-p arg1 -l#
args count is 3
-p arg2 -l#
args count is 3
-p arg3 -l#
~~~

ä½¿ç”¨ `-I` çš„æ—¶å€™ï¼Œå‘½ä»¤ä»¥å¾ªç¯çš„æ–¹å¼æ‰§è¡Œã€‚å¦‚æœæœ‰ `3` ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå‘½ä»¤å°±ä¼šè¿ç—› `{}` ä¸€èµ·è¢«æ‰§è¡Œ `3` æ¬¡ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œä¸­ `{}` éƒ½ä¼šè¢«æ›¿æ¢ä¸ºç›¸åº”çš„å‚æ•°ã€‚

### ç»“åˆ find ä½¿ç”¨ xargs

æ‰¾åˆ°åç¼€ .txt æ ¼å¼æ–‡ä»¶å¹¶åˆ é™¤
`find . -type f -name "*.txt" -print0 | xargs -0 rm -f`

ç»Ÿè®¡ä»£ç è¡Œæ•°
`find . -type f \( -name "*.h" -o -name "*.c" \) -print | xargs wc -l` 

### ä½¿ç”¨å­ `shell` çš„ `while` æ“ä½œåŒä¸€ä¸ªå‚æ•°å¤šæ¬¡
### æ¨¡å¼ï¼š`cmd0 | (cmd1; cmd2; cmd3;) | cmd4`
`xargs` çš„ `-I {}` æ›¿æ¢åªèƒ½åœ¨åé¢æ¥ä¸€ç§å‘½ä»¤ï¼Œä½†å¯èƒ½æƒ³è¦å¯¹ `xargs` å¤„ç†åçš„å‚æ•°æ¯ä¸ªéƒ½æ˜¯ç”¨å¤šæ¬¡ï¼Œå¯ä»¥é‡‡ç”¨ `while` ç»“åˆ å­ `shell` çš„æ–¹å¼

ä¸‹é¢ç»™å‡ºä¸€ä¸ªä¾‹å­

~~~C
âœ  Desktop cat data
YaNgHaN
LiJiE
ZHANgyAngfANG
âœ  Desktop cat data | ( while read arg; do ./toupper.sh $arg; ./tolower.sh $arg; done )
YANGHAN
yanghan
LIJIE
lijie
ZHANGYANGFANG
zhangyangfang
~~~

>6

`tr` é»˜è®¤ä» `stdin` è¯»å–æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨é‡å®šå‘ `tr 'x' ' ' < file`

`cat file | tr -d 'x' ` åˆ é™¤å­—ç¬¦ `x`

`echo hello 1 char 2 next 4 | tr -d -c '0-9 \n'` ç•™ä¸‹ 0-9 å’Œå›è½¦ï¼Œå…¶ä»–éƒ½åˆ æ‰ï¼Œè¾“å‡º 

~~~C
âœ  Desktop echo hello 1 char 2 next 4 | tr -d -c '0-9 \n'
 1  2  4
~~~
ğŸ‘†æ³¨æ„ï¼šå› ä¸º echo çš„è¾“å‡ºåŒ…æ‹¬ `\n`ï¼Œæ‰€ä»¥ `\n` ä¹Ÿéœ€è¦ä¿ç•™ã€‚

`tr -s ' '` å‹ç¼©ç©ºç™½

`tr -s '\n'` åˆ é™¤å¤šä½™çš„æ¢è¡Œç¬¦

ä¸¾ä¸ªğŸŒ°

~~~C
âœ  Desktop cat data
line1


line2


line3
line4

line5
âœ  Desktop cat -s data
line1

line2

line3
line4

line5
âœ  Desktop cat data | tr -s '\n'
line1
line2
line3
line4
line5
~~~

### ä¸€ä¸ªä½¿ç”¨ `tr` ç´¯åŠ å’Œçš„ç¥å¥‡ä¾‹å­

ç„¶è€Œ....`p62`é¡µï¼Œè¿™ä¸ªä¾‹å­åœ¨ `mac` ä¸Šä½¿ç”¨ `shell` ç›´æ¥å¡æ­»ã€‚

å­—ç¬¦é›†

`alpha`

`digit`

`lower`

`space`

`upper`

`print` å¯æ‰“å°å­—ç¬¦

>7

`md5sum file1 file2 file3 ... > file.md5sum`

ç„¶å `md5sum -c file.md5sum` æ¥æ£€æµ‹ `file1 file2 file3...` æ˜¯å¦æ•°æ®æ˜¯å®Œå…¨ä¸€æ ·çš„

>8

åŠ å¯†:
`crypt < input_file > encrypted_file`
ç„¶åä¼šä» `stdin` è¯»å–ä¸€ä¸ªåŠ å¯†å£ä»¤

è§£å¯†ï¼š
`crypt åŠ å¯†å£ä»¤ < encrypted_file > decrypted_file`

>9

`base64` ç¼–ç 

`base64 file > base64_file`

æˆ–è€… `base64` ä¹Ÿå¯ä»¥è¯»å– `stdin`

`cat file | base64 > base64_file`

`base64` è§£ç 

`base64 -d base64_file > file`

æˆ–è€… `base64` ä¹Ÿå¯ä»¥è¯»å– `stdin`

`cat base64_file | base64 -d > file`

>10

`salt` æ•£åˆ—

`openssl passwd -1 -salt $SALT_STRING $PASSWORD`

>11

### sort å‘½ä»¤çš„ä½¿ç”¨

`sort file1 file2` å’Œ `sort -n file1 file2` æ˜¯ä¸åŒçš„ï¼

~~~C
âœ  Desktop sort file1 file2
1
1
10
10
19
2
2
29
3
4
5
5
7
8
8
8
âœ  Desktop sort -n file1 file2
1
1
2
2
3
4
5
5
7
8
8
8
10
10
19
29
~~~

`sort -C file ; echo $?` å¦‚æœ 0 ä»£è¡¨å·²æ’åºï¼Œå¦åˆ™ä»£è¡¨æœªæ’åº

`sort file | uniq` å»é™¤é‡å¤ï¼Œ`uniq` åªèƒ½ç”¨äºå·²æ’åºçš„ `stdin`

> 1.ä¾æ®åˆ—æ’åº

~~~C
âœ  Desktop cat data   
123 mac 2000
312 winxp 4000
231 linux 1000
412 bsd 5000

âœ  Desktop sort -nrk 1 data -t ' '  #ç¬¬1åˆ—ï¼Œæ•°å­—æ’åºï¼Œé€†åº
412 bsd 5000
312 winxp 4000
231 linux 1000
123 mac 2000

âœ  Desktop sort -nrk 1.3 data -t ' '  #ç¬¬1åˆ—ç¬¬3ä¸ªå­—ç¬¦ æ•°å­—æ’åº é€†åº
123 mac 2000
412 bsd 5000
312 winxp 4000
231 linux 1000

âœ  Desktop sort -k 2 data -t ' '	#ç¬¬2åˆ—  æ­£åº éæ•°å­—æ’åº
412 bsd 5000
231 linux 1000
123 mac 2000
312 winxp 4000
~~~

> 2.uniq

`uniq -c` ç»Ÿè®¡æ¬¡æ•°
`uniq -d` æ‰“å°é‡å¤çš„
`uniq -u` æ‰“å°ä¸é‡å¤çš„
`uniq -s 3 -w 4` æŒ‡å®šé”®ï¼Œè·³è¿‡å‰3ä¸ªå­—ç¬¦ï¼Œç”¨äºæ¯”è¾ƒçš„æœ€å¤§å­—ç¬¦æ•°æ˜¯ 4 

>12

### åˆ†å‰²æ–‡ä»¶

æ ¹æ®æ–‡ä»¶å¤§å°è¿›è¡Œåˆ‡å‰²
`split -b 10M file`
`split -b 10M file -d -a 4`
`split -b 10M file -d -a 4 yanghan_`  å‰ç¼€

æ ¹æ®æ–‡ä»¶è¡Œæ•°è¿›è¡Œåˆ‡å‰²
`split -l 10 data` --- åé¢ä¹Ÿå¯ä»¥æ¥ä¸Šé¢é‚£äº›å‚æ•°

æ ¹æ®æ–‡ä»¶å†…å®¹è¿›è¡Œåˆ‡å‰²ï¼šå¦‚æœ `*` æ˜¯åµŒåœ¨ä¸€è¡Œä¹‹ä¸­çš„å°±ä¸å¥½ä½¿äº†ï¼Œéœ€è¦è‡ªå·±å†™è„šæœ¬
`csplit file /\*/ -n 2 -s {*} -f msg_ -b "%02d" `

å…ˆå†™ä¸‹åˆ—è„šæœ¬

~~~C
#! /bin/bash
#scriptname: split.sh

count=0
while read arg
do
	suffix=`printf "%03d" $count`
	echo $arg > "msg_$suffix"
done
~~~

ç„¶åè¿™æ ·è¿è¡Œ

`tr '*' '\n' < file | tr -s '\n' | xargs -n 1 | ./split.sh`

### åˆ‡åˆ†æ–‡ä»¶å

~~~C
url=www.google.com

echo ${url%.*}	 #éè´ªå©ªï¼Œä»å³å¾€å·¦åŒ¹é…ï¼Œåˆ æ‰åŒ¹é…éƒ¨åˆ†
www.google	    #ç»“æœ

echo ${url%%.*} 	#è´ªå©ªï¼Œä»å³å¾€å·¦åŒ¹é…ï¼Œåˆ æ‰åŒ¹é…éƒ¨åˆ†
www					#ç»“æœ

echo ${url#*.} 	#éè´ªå©ªï¼Œä»å·¦å¾€å³åŒ¹é…ï¼Œåˆ æ‰åŒ¹é…éƒ¨åˆ†
google.com 		#ç»“æœ

echo ${url##*.} 	#è´ªå©ªï¼Œä»å·¦å¾€å³åŒ¹é…ï¼Œåˆ æ‰åŒ¹é…éƒ¨åˆ†
com					#ç»“æœ
~~~

### æ‰¹é‡é‡å‘½åå’Œç§»åŠ¨

`rename` ä¸å¤ªå¥½ç”¨ï¼Œè‡ªå·±å†™è„šæœ¬å…ˆ...

`find . -type f -iname "*.mp3" -exec mv {} target_dir \;`

`fine . -type f -exec rename 's/ /_/g' {} \;`

>13

åœ¨å¾ªç¯ä¸­å¢åŠ æ•°ç»„çš„å…ƒç´  arr+=("$value")

`$!` ä¿å­˜ç€æœ€è¿‘ä¸€ä¸ªåå°è¿›ç¨‹çš„ `PID`

~~~C

# åˆ©ç”¨å¹¶è¡ŒåŠ é€Ÿ CPU å¯†é›†å‹å‘½ä»¤

pid_arr=()
for file in $@
do
	md5sum $file &
	pid_arr+=("$!")
done
wait ${pid_arr[*]}
~~~


 





























